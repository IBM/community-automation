---

 
- name: Versions
  tags: version 
  block:
  - name: Is IHS running?
    uri:
      url: "https://localhost:{{ ihs_https_port }}"
      return_content: no
      validate_certs: false
    register: isIHSup

  - name: Is IHS running rc
    debug: 
     msg: "{{ isIHSup.rc }}"

  - name: HTTPServer version
    shell: "{{install_ihs_base }}/{{ http_dir }}/bin/versionInfo.sh" 
    register: HTTPServerVersionOutput

  - name: HTTPServerVersionOutput
    debug: 
     msg: "{{ HTTPServerVersionOutput.stdout_lines }}"

  - name: Plugin version
    shell: "{{install_ihs_base }}/{{ plugin_dir }}/bin/versionInfo.sh" 
    register: PluginVersionOutput

  - name: PluginVersionOutput
    debug: 
     msg: "{{ PluginVersionOutput.stdout_lines }}"

  - name: WCT version
    shell: "{{install_ihs_base }}/{{ wct_dir }}/bin/versionInfo.sh" 
    register: WCTVersionOutput

  - name: WCTVersionOutput
    debug: 
     msg: "{{ WCTVersionOutput.stdout_lines }}"

